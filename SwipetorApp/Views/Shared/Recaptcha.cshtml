@using SwipetorApp.Services.Security
@using WebLibServer.SharedLogic.Recaptcha
@inject IRecaptchaConfig RecaptchaConfig

<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<script>
     function onSubmit(token) {
            document.getElementById("RecaptchaToken").value = token;
            var form = document.getElementsByClassName('g-recaptcha')[0].closest('form');
            form.submit();
     }
</script>

<input type="hidden" name="RecaptchaToken" id="RecaptchaToken"/>

<div class="g-recaptcha"
     data-sitekey="@RecaptchaConfig.Key"
     data-callback="onSubmit"
     data-size="invisible">
</div>